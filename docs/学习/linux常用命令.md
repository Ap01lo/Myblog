##  linux常用命令总结

==注释解释：命令使用``参数使用斜体，注意点使用粗体==

==不规范的写完之后再改正==

==解释事项使用 >==

**终端：**

ctrl + 放大字体

ctrl -  缩小字体

### 日常使用

1. `ls` 				查看当前文件下内容  list
2. `pwd`             查看当前所在目录  print working directory
3. `cd 目录名 `     切换目录    change directory
4. `touch 文件名`   创建文件  touch
5. `mkdir 目录名`   创建目录    make directory
6. `rm  目录/文件名`     删除指定文件/目录    remove 

### 终端命令格式

***command  [-options]  [parameters]***

`command` 命令名

`[-option]` 选项 可用来对命令进行控制

`parameter` 传给命令的参数 可以是0个，1个，多个



### 查阅命令帮助信息

1. --help
2. man

```linux
ls --help
man ls
```



### 文件与目录常用命令

**自动补全**： `tab`

+ `ls` 

  + linux下文件与目录的特点
    + linux文件或者目录名称长度最长可以有<u>*256*</u>个字符
    + 以 `.` 开头的文件为隐藏文件，需要用`-a` 参数才能显示
    + `.` 代表当前目录
    + `..` 代表上一级目录

  + | 参数 | 含义                                         |
    | ---- | -------------------------------------------- |
    | *-a* | 显示当前目录下所有子目录与文件，包括隐藏文件 |
    | *-l* | 以列表方式显示文件的详细信息                 |
    | *-h* | 配合`-l`以人性化的方式显示文件大小           |

  + 目录蓝色字体，文件白色字体

  + 目录的第一列为`d` 文件为`-` 

  + `-h` `-l` 要一起用才有用

    ```linux
    ls -lh
    ls -l-h-a
    ls -lah
    ```

  + 通配符的使用

    | 通配符  | 含义                           |
    | ------- | ------------------------------ |
    | `*`     | 代表任意个数的字符             |
    | `?`     | 代表任意一个字符，至少$1$个    |
    | `[]`    | 表示可以匹配字符组中的任意一个 |
    | `[abc]` | 匹配abc中的任意一个            |
    | `[a-f]` | 匹配a-f中的任意一个字符        |

    ```linux
    ls 1*
    ls *1.txt
    ls *1*
    ls [12345]23.txt
    ```

    其他同理

+ `cd`

  + `cd` 切换到当前用户的主目录  `/home/apollo/` 

    `cd ~` 切换到当前用户的主目录 同上

    `cd .` 保持当前目录

    `cd ..` 切换到上级目录

    `cd -`   可以在最近两次工作目录之间来回切换

  + 绝对路径与相对路径

    + **绝对路径**：在输入路径时，在最前面是`/` 或者`~` ，表示从 **根目录/家目录** 开始的具体目录位置
    + **相对路径**：在输入路径时，最前面不是`/` 或者`~` ，表示相对 **当前目录** 所在的目录位置

+ `touch`

  + 创建文件或者修改文件时间
    + **如果文件不存在**，可以创建一个空包文件
    + **如果文件存在** ， 可以修改文件的末次修改日期

+ `mkdir`

  + 创键一个新的目录

  + `-p` 选项，可以递归创建目录

    ```linux
    mkdir text
    mkdir -p text/text1/text2/text3
    ```

  + **在linux中，文件与目录时不允许重名的**

+ `rm`

  + 参数

    + `-f` 强制删除
    + `-r` 递归删除（删除目录以及目录中的文件）

  + **需要注意的是，`rm`删除的文件不能恢复**

  + 与通配符的搭配使用

    ```linux
    rm -r *
    rm -r 1*.txt
    ```

+ `tree [目录名]`

  + 以树状图的形式显示当前目录的文件结构

  

+ `cp [源文件] [目标文件]`

  ```linux
  cp /Desktop/123.txt .
  ```

  ​	

  + 参数
    + `-i` 覆盖文件前提示
    + `-r` 如果给出的文件是递归文件，则cp将递归复制该目录下的所有子目录和文件，**此时目标文件必须是目录名**



+ `mv [源文件] [目标文件]`
  + 用来移动 *文件* 或者 *目录* ，也可以给 **文件或者目录重命名**



+ `cat 文件名`

  + 用来 **查看文件内容，创建文件，追加文件内容**

  + 会一次性显示**所有**内容，适合查看 **内容较少** 的文本文件

  + 参数

    + *-b* 对非空输出行编号

    + *-n* 对所有行显示行编号

      ```linux
      cat -b
      cat -n
      ```

      

+ `more 文件名`

  + **分屏**显示文件内容

  + 操作键

    | 操作键 | 功能       |
    | ------ | ---------- |
    | 空格   | 显示下一页 |
    | Enter  | 滚动一行   |
    | b      | 回滚一屏   |
    | f      | 前滚一屏   |
    | q      | 退出       |

    

+ `grep 搜索文本 文件名`

  + 搜索文本文件的内容
  + 参数
    + *-n* 显示匹配以及行号
    + *-v* 显示**不包含**匹配的所有行，**相当于求反**
    + *-i* 忽略大小写
  + 常用的两种模式参数
    + *^a* 行首，搜寻以 $a$ 开头的行
    + *ke$* 行尾，搜寻以 $ke$ 结尾的行

### 重定向

+ `echo 文字内容`

  + 在终端显示参数中指定的文字，通常与 **重定向** 联合使用

  ```linux
  echo hello python
  ```

+ 重定向`>` `>>`

  + linux允许将命令执行结果 **重定向** 到一个 **文件**

  + 将本应该 **显示在终端上的输出内容** **输出/追加** 在 **指定文件** 中

  + 其中

    + `>` 表示输出，会 **覆盖** 文件原有内容
    + `>>` 表示追加， 会将内容追加到 **指定文件中** 

    ```linux
    ls -ah > a
    ls > a
    ```

+ 管道`|`

  + linux 允许 把 **一个命令的输出** 作为 **另一个命令的输入**

  + 常常使用管道的命令有

    + `more` 分屏显示命令

      ```linux
      ls -ah | more
      ```

      把`ls` 的输出作为`more` 的输入参数

    + `grep` 

      ```linux
      ls -ah |grep a
      ```

      显示`ls`的返回结果中有 $a$ 的行



### 远程管理使用的命令

+ 关机重启

  + `shutdown` 在 **一分钟** 后关闭系统
  + `shhutdown -c`取消关机

+ 查看或配置网卡信息

  + *网卡*  是一个专门负责网络通讯的硬件设备

  + *IP地址*  是设置在网卡上面的地址信息

    > 可以把电脑比作电话，网卡相当于sim卡，ip地址相当于电话号码

  + `inconfig` 查看/配置计算机发当前网卡配置信息

    + `ifconfig | grep inet` 查看ip地址

  + `ping` 检测到目标 ip地址 的连接是否正常

    ```linux
    ifconfig
    ping 127.0.0.1 #检测本地网卡是否正常
    ifconfig | grep inet
    ```

    > 执行`ping` 的时候使用 `Ctrl C` 结束检测





+ **远程登录和复制文件**

  + *SSH* 通过ssh客户端可以连接到运行ssh服务器的远程机器上

    + 数据传输加密，防止信息泄露
    + 数据传输压缩，提高传输速度

  + *域名* *端口号* 

    + **域名** 一串用点分隔的名字 例如 $www.baidu.com$

      是 IP 地址的别名，方便用户记忆

    + **端口号**

      + *ip地址* 通过ip地址找到网络上的计算机、

      + *端口号*  通过端口号可以找到计算机上运行的程序

        > SSH服务器的默认端口号是22，如果是默认端口号，在连接时可以省略

      + 常见的服务器端口号

        | 序号 | 服务      | 端口号 |
        | ---- | --------- | ------ |
        | 01   | SSH服务器 | 22     |
        | 02   | Web服务器 | 80     |
        | 03   | HTTPS     | 443    |
        | 04   | FTP服务器 | 21     |

        

  + SSH 客户端的简单使用

    + `ssh [-p port] user@remote`

      ```linux
      ssh -p 22 apollo@127.0.0.1
      ```

      
      
      + *user* 是在远程机器上的用户名，如果不指定的话默认为当前用户
      + *remote* 是远程机器的 **地址** ，可以是 **ip/域名**  或者是 **别名**
    + *port* 是 **SSH server 监听的端口** ，如果不指定就默认为 $22$
      
    >使用 `exit` 退出当前用户的登录
      >
    >+ `ssh` 命令只能在 *linux*  *unix* 系统下使用
      >+ 在 *windows* 系统下安装ssh客户端就行

  + `SCP` 

    + *scp* 是指 *secure copy* ，是一个在linux下进行 **远程拷贝文件** 的命令
  
    + 他的 **地址格式与 SSH 基本相同** ，需要注意的是，指定端口时使用`-P` 而不是小写`-p` 

    + 把本地目录下的 01.py 复制到远程目录下的 Desktop/01.py

      ```linux
      scp -P port 01.py user@ip:Desktop/01.py
      ```

      把远程目录下的 Desktop/01.py 复制到本地当前目录

      ```linux
    scp -P port user@ip:Desktop/01.py 01.py
      ```
  
    + *-r*  选项可以传递文件夹

      把当前目录的demo文件夹复制到远程家目录下的Desktop

      ```linux
      scp -r -P port demo user@ip:Desktop
      ```

      把远程家目录下的Desktop 复制到当前目录下的demo文件夹
  
      ```linux
      scp -r -P port user@ip:Desktop demo
      ```
  
    

### 系统信息相关命令

+ 时间日期

  + `date` 查询当前系统时间
  + `cal` 查询月日历 加上 *-r* 后可以查看一年的日历

+ 磁盘信息

  + `df -h` *disk free* 显示磁盘剩余空间
  + `du -h 目录名` *disk usage* 可以显示目录下的文件大小

+ 进程信息

  + 进程就是 **当前正在经行的程序**

  + | 命令                 | 作用                                   |
    | -------------------- | -------------------------------------- |
    | `ps aux`             | process status 查看进程的详细状况      |
    | `top`                | 动态显示运行中的程序并且排序           |
    | `kill [-9] 进程代号` | 终止指定代号的进程， *-9* 表示强行终止 |

    > `ps` 默认只会显示当前用户通过终端启动的应用程序

  + `ps` 选项说明

    | 选项 | 含义                             |
    | ---- | -------------------------------- |
    | a    | 显示终端上所有进程，包括其他用户 |
    | u    | 显示进程的详细状态               |
    | x    | 显示没有控制终端的进程           |





### 其他命令

+ 查找文件

  + `find [路径] -name *.py` 

    + 如果省略路径，表示在 **当前目录** 下查找
    + 通配符依然可以使用

    ```linux
    find -name "*1*" #查找当前目录包含1的文件
    find -name "*.txt" #查找当前目录以.txt结尾的文件
    find /home -name "1*"  #查找家目录下以1开头的文件
    ```

+ 文件软链接(了解)

  + `ln -s 被链接文件完整路径（绝对路径）` 
+  没有 *-s* 会建立一个硬链接
   
+ 源文件一定要使用 **绝对路径** 这样方便移动链接文件后，仍然可以使用



+ 打包

  + windows： rar

  + Mac：zip

  + linux：tar.gz

  + `tar` linux中的常用备份工具，可以将一系列为念打包成一个大文件，也可以把一个大文件恢复成一系列文件

    + `tar -cvf 打包文件.tar 打包文件/路径` 打包

    +  `tar -xvf 打包文件.tar`  解包 

    + `tar`参数说明

      | 选项 | 含义                                                    |
      | ---- | ------------------------------------------------------- |
      | c    | 生成档案文件，创建打包程序                              |
      | x    | 解开档案文件                                            |
      | v    | 列出归档解档的详细过程，显示进度                        |
      | f    | 指定档案文件名称，f后面一定是 *.tar* 文件，所以放在最后 |

      > `f` 必须放在最后，其他选项顺序可以随意

+ 压缩/解压缩

  + `tar` `gzip` 结合使用可以实现文件 **打包和压缩**

    + `tar` 只负责打包文件，不负责压缩
    + `gzip` 只负责压缩`tar` 打包后的文件，常见的文件格式为 *xxx.tar.gz*

  + 在`tar` 命令中有一个选项 *-z* 可以调用 `gzip` ，从而可以更方便的实现压缩和解压缩的功能

    ```linux
    # 压缩文件
    tar -zcvf 打包文件.tar.gz 被压缩的文件/路径
    # 解压文件
    tar -zsvf 打包文件.tar.gz
    # 解压到指定路径
    tar -zxvf 打包文件.tar.gz -C 指定路径
    ```

    + *-C* 是解压到指定目录的选项，注意 **指定路径必须存在**

  + `bzip2`

    + `tar` 与`bzip2` 结合也可以实现文件的打包和压缩（用法与gzip）一样

    + `tar` 命令中有一个选项 *-j* 可以直接调用bzip2

      ```linux
      # 压缩文件
      tar -jcvf 打包文件.tar.bz2 被压缩的文件/路径
      # 解压文件
      tar -jxvf 打包文件.tar.bz2
      ```



+ 软件安装

  + apt

    ```linux
    # 安装软件
    sudo apt install 软件包
    # 卸载软件
    sudo apt remove 软件包
    # 升级软件
    sudo apt upgrade
    ```



## THE END